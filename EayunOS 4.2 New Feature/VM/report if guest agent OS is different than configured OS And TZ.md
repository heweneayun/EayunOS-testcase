# report if guest agent OS is different than configured OS. And TZ


# 虚拟机实际操作系统类型与配置不同

**测试说明**:如果我们新建一台虚拟机并且事先配置好虚拟机的操作系统。当虚拟机创建成功后，然后为虚拟机安装实际操作系统。如果虚拟机配置的系统与实际安装的操作系统不同，系统会有警告提示消息:**实际操作系统类型与配置不同**。

|用例编号|测试目的|操作|预期结果|实际结果|备注|
|--------|--------|----|--------|--------|----|
|0080005|验证当虚拟机的配置系统与实际安装系统不相同时，系统会提示实际操作系统类型与配置不同。|<ol><li>创建虚拟机。首先登录易云虚拟化管理平台，选择【虚拟机】标签，点击【新建虚拟机】按钮，弹出新建虚拟机窗口，在操作系统下拉列表中选择想要配置的操作系统类型，例如选择windows 7 x64操作系统，接着配置好其他的相关选项，点击【确定】按钮，成功创建了一台虚拟机。</li><li>安装虚拟机的实际操作系统。选中新创建的虚拟机，点击【编辑】按钮，弹出编辑虚拟机窗口，点击左侧的【引导选项】选项卡，选中附加CD，在附加CD的下拉列表中选择安装实际操作系统的iso文件，并且设置虚拟机CD-ROM启动，为虚拟机安装实际操作系统（如果虚拟机有使用模板直接运行虚拟机即可）。</li><li>运行虚拟机并且安装agent。在centos/fedora系统中执行命令<code># yum install http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm</code> <code># yum install -y ovirt-guest-agent</code>安装Ovirt Guest Agent。</li><li>关闭虚拟机，然后再运行虚拟机。|系统提示实际操作系统类型与配置不同。|<ol><li>在虚拟机列表中,虚拟机名称附近有一个感叹号状的警告提示符，将鼠标移至提示符上会出现一个提示框，提示框信息为：实际的操作系统类型与配置不同。</li><li>在虚拟机列表中选中刚刚新建的虚拟机，在下面的详情面板中，点击【客户端系统信息】会显示实际操作系统的详细信息。|在虚拟机列表中选择新建的虚拟机，点击【编辑】按钮，弹出编辑虚拟机窗口，在编辑虚拟机窗口中配置与实际操作系统相同的操作系统，在下次虚拟机重新运行时，警告提示符便会消失，实际操作系统类型与配置相同。|

  from: https://bugzilla.redhat.com/show_bug.cgi?id=869296

